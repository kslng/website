<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>KSL Docs | Attributes: nofail</title>
		<link rel="stylesheet" href="../css/root.css">
		<link rel="stylesheet" href="../css/docs.css">
	</head>
	<body>
		<div id="nav">
			<h2>Pages</h2>
			<a href="./home">Docs Home</a>
			<a href="./intro">Introduction</a>
			<a href="./types">Types</a>
			<a class="sub" href="./placeholder">int</a>
			<a class="sub" href="./placeholder">bool</a>
			<a class="sub" href="./placeholder">float</a>
			<a class="sub" href="./placeholder">null</a>
			<a href="./functions">Functions</a>
			<a href="./attributes">Attributes</a>
			<a class="sub" href="./attributes-nofail">nofail</a>
		</div>
		<div id="content">
			<div id="spacer">
				<h1>Attributes: nofail</h1>
				<div>
					The <code>nofail</code> attribute, finally getting
					somewhere in KSL huh?
					<br><br>
					This is a really cool attribute that functionally
					wraps an entire function in a big try-catch block,
					it's the closest thing KSL has to error handling.
					<br><br>
					Before using <code>nofail</code>, it's really
					important that you understand how to use it. The
					behavior can be confusing for beginners to understand.
					<br><br>
					Like all attributes, it can be added to functions
					before the declaration, like this:
					<pre><code>@[nofail]
function blah_blah_blah() -> int { ...</code></pre>
					Notice how this function is supposed to return an int?
					Let's say it fails. The <code>nofail</code>
					attribute is meant to keep the code running as usual
					no matter what, so it will look at the expected return
					type and send back a mock response. For an integer the
					default value is <code>-1</code>.
					<br><br>
					If, for some reason, you want to change this (ex. -1
					is an expected result from your function anyway) you
					can pass parameters to the attribute like this:
					<pre><code>@[nofail(return=12)]</code></pre>
					Doing this ensures that if the function fails it will
					return <code>12</code>. You cannot use this behavior
					to return a type that is not expected of the function
					though. So something like this would NOT work:
					<pre><code>@[nofail(return=false)]
function expect_int_return() -> int { ...</code></pre>
					Because the function's expected return type is an integer,
					and last time we checked, booleans are different from
					integers.<br>
					<i>Ok, well, not really. But in the KSL type system bools
					are tracked differently from ints.</i>
				</div>
			</div>
		</div>
	</body>
</html>
